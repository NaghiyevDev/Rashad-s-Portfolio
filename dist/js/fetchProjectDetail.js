import{CONFIG as t}from"./config.js";import{setPageMeta as a}from"./utils.js";const e=t.API_URL;!async function(){try{const t=document.getElementById("project-detail"),n=new URLSearchParams(window.location.search).get("id");if(!n)return void(blogDetailContainer.innerHTML="<div>Project not found.</div>");const i=await fetch(`${e}/projects/${n}`);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const o=await i.json();if(console.log("Project:",o),!o.data)return void(t.innerHTML="<div>Project not found.</div>");await a(o),t.innerHTML=`\n         <div class="project-title">\n             <h1>${o.data.title}</h1>\n        </div>\n        <div class="project-author">\n            <p><i class="icon-font fa fa-user"></i> ${o.data.author}</p>\n            <p><i class="icon-font fa fa-calendar"></i> ${o.data.date}</p>\n        </div>\n        <div class="line"></div>\n        <div class="project-image">\n            <img src="${e}/${o.data.img||"/assets/gallery/no-image.jpg"}" alt="${o.data.title}" loading="lazy">\n        </div>\n        <div class="project-content">\n          ${o.data.content}\n        </div>\n        <div class="line"></div>\n            <div class="project-footer">\n                <div class="social-icons">\n                    <a href="#" class="social-icon facebook" data-platform="facebook" aria-label="Facebook">\n                        <i class="fab fa-facebook-f"></i>\n                    </a>\n                    <a href="#" class="social-icon twitter" data-platform="twitter" aria-label="Twitter">\n                        <i class="fab fa-twitter"></i>\n                    </a>\n                    <a href="#" class="social-icon linkedin" data-platform="linkedin" aria-label="LinkedIn">\n                        <i class="fab fa-linkedin-in"></i>\n                    </a>\n                    <a href="#" class="social-icon whatsapp" data-platform="whatsapp" aria-label="WhatsApp">\n                        <i class="fab fa-whatsapp"></i>\n                    </a>\n                </div>\n            </div>\n        `,document.querySelectorAll(".project-content pre").forEach((t=>{t.removeAttribute("style")}));document.querySelectorAll(".social-icon").forEach((t=>{t.addEventListener("click",(a=>{a.preventDefault();!function(t,a){const e=`${window.location.origin}/project-detail.html?id=${a.id}`,n=encodeURIComponent(a.title),i=encodeURIComponent(a.content.substring(0,150));let o="";switch(t){case"facebook":o=`https://www.facebook.com/sharer/sharer.php?u=${e}`;break;case"twitter":o=`https://twitter.com/intent/tweet?text=${n}&url=${e}`;break;case"linkedin":o=`https://www.linkedin.com/shareArticle?mini=true&url=${e}&title=${n}&summary=${i}`;break;case"whatsapp":o=`https://api.whatsapp.com/send?text=${n} - ${e}`;break;default:return void alert("Unsupported platform!")}window.open(o,"_blank","noopener,noreferrer")}(t.getAttribute("data-platform"),o.data)}))}))}catch(t){console.error("Failed to load project - id:(), Error:",t)}}();
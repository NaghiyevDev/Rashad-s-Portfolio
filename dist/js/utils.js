import{CONFIG as t}from"./config.js";const e=t.API_URL;export function getShortContent(t,e){const a=document.createElement("div");a.innerHTML=t;const o=a.textContent||a.innerText||"";return o.length>e?o.slice(0,e)+"...":o}export function escapeForHTML(t){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;","/":"&#x2F;"};return t.replace(/[&<>"'`/]/g,(t=>e[t]))}export async function setPageMeta(t){const a="Default Title",o="Default description for blog posts",n=`${e}/assets/images/default-image.jpg`,r="default, keywords, blog",i=`${e}/${t.data.img||n}`,c=t.data.content?getShortContent(t.data.content,160):o,m=t.data.tags?t.data.tags.join(", "):r;document.title=t.data.title||a;const s={"meta[name='description']":c,"meta[name='keywords']":m,"meta[property='og:title']":t.data.title||a,"meta[property='og:description']":c,"meta[property='og:image']":i,"meta[property='og:url']":window.location.href,"meta[name='twitter:card']":"summary_large_image","meta[name='twitter:title']":t.data.title||a,"meta[name='twitter:description']":c,"meta[name='twitter:image']":i};for(const[t,e]of Object.entries(s)){const a=document.querySelector(t);a&&a.setAttribute("content",e)}}